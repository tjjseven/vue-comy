webpackJsonp([1],{"+hXE":function(t,e){},"2Meb":function(t,e){},"34+y":function(t,e){},"4IcG":function(t,e){},"4xsa":function(t,e){},AOQV:function(t,e){},C01a:function(t,e){},CcXR:function(t,e){},Cz6C:function(t,e){},FB1k:function(t,e){},HBIl:function(t,e){},Lrbi:function(t,e){},NHnr:function(t,e,a){"use strict";function n(t){var e=new Date(t).getTime(),a=((new Date).getTime()-e)/1e3,n=q.findIndex(function(t,e){return t<=a&&q[e+1]>a});return 0===n?H[0]:(a=a/q[n]|0)+H[n]}Object.defineProperty(e,"__esModule",{value:!0});a("q/am");var i=a("4VPn"),s=a.n(i),o=(a("RQR2"),a("96WI")),l=a.n(o),c=(a("f1Vh"),a("ZQVe")),r=a.n(c),u=(a("lrMw"),a("7YS2")),d=a.n(u),m=(a("OgVB"),a("/Lyv")),p=a.n(m),f=(a("CcXR"),a("fKbY")),v=a.n(f),_=(a("ULTG"),a("oobK")),h=a.n(_),b=(a("UIRh"),a("uOA4")),g=a.n(b),C=(a("jayP"),a("QKkm")),k=a.n(C),x=(a("Lrbi"),a("aMxQ")),y=a.n(x),w=(a("Cz6C"),a("dU8H")),V=a.n(w),M=(a("+hXE"),a("fUV+")),S=a.n(M),T=(a("y+mr"),a("3JdW")),R=a.n(T),E=(a("XDqQ"),a("Axha")),F=a.n(E),L=a("7+uW"),U={render:function(){var t=this.$createElement;return(this._self._c||t)("mt-header",{attrs:{title:this.headerC,fixed:""}})},staticRenderFns:[]},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("mt-tabbar",{attrs:{id:"foots",fixed:""}},t._l(t.footer,function(e,n){return a("mt-tab-item",{key:n},[a("router-link",{attrs:{to:e.path}},[t._v(t._s(e.name))])],1)}))},staticRenderFns:[]},I={name:"app",components:{Heads:a("VU/8")({name:"heads",data:function(){return{headerC:"vue社区"}}},U,!1,function(t){a("2Meb")},null,null).exports,Foots:a("VU/8")({name:"foots",data:function(){return{footer:[{path:"/",name:"首页"},{path:"/message",name:"消息"},{path:"/about",name:"我的"}]}}},A,!1,function(t){a("AOQV")},null,null).exports}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Heads"),this._v(" "),e("div",{attrs:{id:"content"}},[e("transition",{attrs:{name:"trans-router",mode:"out-in"}},[e("router-view")],1)],1),this._v(" "),e("Foots")],1)},staticRenderFns:[]},j=a("VU/8")(I,$,!1,function(t){a("4xsa")},null,null).exports,z=a("/ocq"),O=(a("HBIl"),a("svqn")),B=a.n(O),q=[0,60,3600,86400,2592e3,94608e4,Number.MAX_VALUE],H=["刚刚","分钟前","小时前","天前","月前","年前"],Q={name:"scroll",data:function(){return{mescroll:null,pdlist:[]}},props:["tab","scroll"],mounted:function(){this.mescroll=new B.a(this.scroll,{up:{callback:this.upCallback,toTop:{},empty:{warpId:"dataList",icon:"../res/img/mescroll-empty.png",tip:"亲,暂无相关数据哦~",btntext:"去逛逛 >",btnClick:function(){alert("点击了去逛逛按钮")}}}}),document.getElementById("dataList").style.display="block";var t=document.querySelectorAll("img");this.imgLoad(t,function(t){})},methods:{imgLoad:function(t,e){var a=this;t.forEach(function(t){var n=setInterval(function(){t.complete?(e(t),clearInterval(n)):console.log("404")},50);t.onerror=function(){console.log("404失败"),a.onerror=null}})},errImg:function(){console.log("失败")},upCallback:function(t){var e=this;!function(t,a,n,i){e.$ajax.get("/api/v1/topics",{params:{tab:e.tab,page:t,limit:a}}).then(function(t){var e=t.data.data;n&&n(e)}).catch(function(t){t&&console.log(t),i&&i()})}(t.num,t.size,function(a){1===t.num&&(e.pdlist=[]),e.pdlist=e.pdlist.concat(a),e.mescroll.endSuccess(a.length,!0)},function(){e.mescroll.endErr()})},timeFormat:function(t){return t.map(function(t){switch(t.time=n(t.create_at),t.tab){case"share":t.tab="分享";break;case"ask":t.tab="问答";break;case"job":t.tab="招聘"}return t})}},computed:{}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mescroll",attrs:{id:t.scroll}},[a("div",{staticClass:"mescroll-bounce"},[a("ul",{staticClass:"data-list",attrs:{id:"dataList"}},t._l(t.timeFormat(t.pdlist),function(e,n){return a("router-link",{key:n,attrs:{to:{path:"/details",query:{id:e.id}},tag:"li"}},[a("div",{staticClass:"list_top table"},[a("div",{staticClass:"top_img table_cell"},[a("img",{attrs:{src:e.author.avatar_url},on:{error:t.errImg}})]),t._v(" "),a("div",{staticClass:"top_title table_cell"},[a("h2",{staticClass:"two_ell"},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"top_tab table_cell"},[e.top?a("p",{staticClass:"tab",staticStyle:{background:"#e40e0e"}},[t._v("置顶")]):e.good?a("p",{staticClass:"tab"},[t._v("精华")]):a("p",{staticClass:"tab"},[t._v(t._s(e.tab))])])]),t._v(" "),a("div",{staticClass:"list_btm"},[a("div",{staticClass:"btm_left"},[a("span",[t._v(t._s(e.author.loginname))]),t._v(" "),a("span",{staticStyle:{"font-size":".6rem"}},[t._v("发布于"+t._s(e.time))])]),t._v(" "),a("div",{staticClass:"btm_right"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-pingjia"}})]),t._v(" "),a("span",[t._v(t._s(e.reply_count))]),t._v(" "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-Artboard"}})]),t._v(" "),a("span",[t._v(t._s(e.visit_count))])])])])}))])])},staticRenderFns:[]},P={name:"index",components:{Scroll:a("VU/8")(Q,X,!1,function(t){a("4IcG")},null,null).exports},data:function(){return{selected:0,swipeable:!0,navMsg:[{label:"全部",tab:"all"},{label:"精华",tab:"good"},{label:"分享",tab:"share"},{label:"问答",tab:"ask"},{label:"weex",tab:"weex"},{label:"招聘",tab:"job"}]}},mounted:function(){},methods:{}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("mt-navbar",{attrs:{fixed:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.navMsg,function(e,n){return a("mt-tab-item",{key:n,attrs:{id:n}},[t._v(t._s(e.label))])})),t._v(" "),a("mt-tab-container",{attrs:{swipeable:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.navMsg,function(e,n){return a("mt-tab-container-item",{key:n,attrs:{id:n}},[a("Scroll",{attrs:{tab:t.navMsg[n].tab,scroll:"scroll"+n}})],1)}))],1)},staticRenderFns:[]},D=a("VU/8")(P,N,!1,function(t){a("xAa5")},null,null).exports,G={name:"detail",data:function(){return{details:"",authorTime:"",content:"",sheetVisible:!0,actions:[{name:"返回",method:this.toBack},{name:"评论",method:this.toCommit}]}},mounted:function(){var t=this;this.$ajax({method:"get",url:"/api/v1/topic/"+this.$route.query.id}).then(function(e){switch(t.details=e.data.data,t.authorTime=n(t.details.create_at),t.details.tab){case"share":t.details.tab="分享";break;case"ask":t.details.tab="问答";break;case"job":t.details.tab="招聘"}}).catch(function(t){t&&console.log(t)})},methods:{toBack:function(){this.$router.go(-1)},toCommit:function(){var t=this;p.a.prompt("<textarea>11</textarea>","请输入评论内容",{closeOnClickModal:!1,confirmButtonText:"提交",showInput:!1}).then(function(e){var a=e.value;e.action;t.sheetVisible=!0,console.log(a)},function(e){t.sheetVisible=!0,console.log(e)})},timeFormat:function(t){return t.map(function(t){return t.time=n(t.create_at),t})}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details"},[t.details?a("div",{attrs:{id:"details"}},[a("h1",{on:{click:function(e){t.sheetVisible=!t.sheetVisible}}},[t._v(t._s(t.details.title))]),t._v(" "),a("div",{staticClass:"table",style:{marginTop:"1rem",width:"100%"}},[a("div",{staticClass:"table_cell",staticStyle:{width:"12%"}},[a("img",{attrs:{src:t.details.author.avatar_url,alt:"author"}})]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"63%",padding:"0 .5rem"}},[a("p",[t._v(t._s(t.details.author.loginname))]),t._v(" "),a("span",[t._v(t._s(t.authorTime))])]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"25%","font-size":".6rem",color:"#5f5f5f","text-align":"right","padding-right":".4rem"}},[a("p",[t._v("来自:"+t._s(t.details.tab))]),t._v(" "),a("span",[t._v(t._s(t.details.visit_count)+"次访问")])])]),t._v(" "),a("div",{staticClass:"det_content",domProps:{innerHTML:t._s(t.details.content)}}),t._v(" "),t.details.replies.length?a("h2",{staticClass:"commit_count"},[t._v(t._s(t.details.replies.length)+"人评论:")]):a("h2",{staticStyle:{"margin-top":"2rem","text-align":"center"}},[t._v("没有人评论，快来抢沙发...")]),t._v(" "),a("ul",{staticClass:"commit_list"},t._l(t.timeFormat(t.details.replies),function(e,n){return a("li",{key:n},[a("div",{staticClass:"table",style:{marginTop:"1rem",width:"100%"}},[a("div",{staticClass:"table_cell",staticStyle:{width:"12%"}},[a("img",{attrs:{src:e.author.avatar_url,alt:""}})]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"66%","padding-left":".5rem"}},[a("p",[t._v(t._s(e.author.loginname)+" "),a("span",{staticStyle:{color:"#386ac0"}},[t._v("#"+t._s(n+1)+"楼\n              "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.details.author.loginname===e.author.loginname,expression:"details.author.loginname===replies.author.loginname"}]},[t._v("【楼主】")])])]),t._v(" "),a("span",[t._v(t._s(e.time))])]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"22%","text-align":"right"}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-zan"}})]),t._v(" "),a("span",[t._v(t._s(e.ups.length)+"  ")]),t._v(" "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-huifu"}})])])]),t._v(" "),a("div",{staticClass:"commit_content",domProps:{innerHTML:t._s(e.content)}})])})),t._v(" "),a("mt-actionsheet",{attrs:{actions:t.actions,closeOnClickModal:"",cancelText:""},model:{value:t.sheetVisible,callback:function(e){t.sheetVisible=e},expression:"sheetVisible"}})],1):a("p",[a("mt-spinner",{attrs:{type:"snake"}})],1)])},staticRenderFns:[]},K=a("VU/8")(G,W,!1,function(t){a("T1y7")},null,null).exports,Y=(a("34+y"),a("X+yh")),Z=a.n(Y),J={name:"message",data:function(){return{popupMsg:!1}},methods:{myMsg:function(){Z()({message:"没有新消息",duration:500})}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message"},[a("mt-cell",{attrs:{title:"未读消息"},nativeOn:{click:function(e){t.myMsg(e)}}},[a("mt-badge",{staticStyle:{"font-size":"14px"},attrs:{color:"#f44336",size:"large"}},[t._v("10")])],1),t._v(" "),a("mt-cell",{attrs:{title:"已读消息"},nativeOn:{click:function(e){t.popupMsg=!t.popupMsg}}},[a("mt-badge",{staticStyle:{"font-size":"14px"},attrs:{color:"#5f5f5f",size:"large"}},[t._v("0")])],1),t._v(" "),a("mt-popup",{attrs:{position:"bottom",modal:""},model:{value:t.popupMsg,callback:function(e){t.popupMsg=e},expression:"popupMsg"}},[a("div",{staticClass:"my-theme",on:{click:function(e){t.popupMsg=!t.popupMsg}}},[a("p",{staticClass:"back"},[a("i",{staticClass:"mintui mintui-back"}),t._v("返回\n      ")])])])],1)},staticRenderFns:[]},et=a("VU/8")(J,tt,!1,function(t){a("giZ/")},null,null).exports,at={name:"about",data:function(){return{popupVisible:!1,aboutList:[{icon:"#icon-shoucang",text:"收藏的主题"},{icon:"#icon-canyu",text:"回复的主题"},{icon:"#icon-fabu",text:"发布的主题"}]}},methods:{logout:function(){var t=this;p.a.confirm("确定执行此操作?",{closeOnClickModal:!1}).then(function(e){t.$router.replace({path:"/login"})},function(t){console.log(t)})}}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("div",{staticClass:"about_header"},[a("div",{staticClass:"about_bg"}),t._v(" "),a("img",{staticClass:"about_picture",attrs:{src:"",alt:"author"}}),t._v(" "),a("h2",[t._v("author")]),t._v(" "),a("div",{staticClass:"about_net"},[a("p",{on:{click:function(e){t.popupVisible=!t.popupVisible}}},[t._v("关于")]),t._v(" "),a("p",{on:{click:function(e){t.popupVisible=!t.popupVisible}}},[t._v("发布")])])]),t._v(" "),a("div",{staticClass:"about_list"},[t._l(t.aboutList,function(e,n){return a("div",{key:n,staticClass:"table list_div",on:{click:function(e){t.popupVisible=!t.popupVisible}}},[a("div",{staticClass:"list_left table_cell"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":e.icon}})])]),t._v(" "),a("div",{staticClass:"list_center table_cell"},[t._v(t._s(e.text))]),t._v(" "),a("div",{staticClass:"list_right table_cell"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-you"}})])])])}),t._v(" "),a("p",{staticClass:"logout",on:{click:t.logout}},[t._v("退出")])],2),t._v(" "),a("mt-popup",{attrs:{position:"right",modal:""},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[a("div",{staticClass:"my-theme",on:{click:function(e){t.popupVisible=!t.popupVisible}}},[a("p",{staticClass:"back"},[a("i",{staticClass:"mintui mintui-back"}),t._v("返回\n      ")])])])],1)},staticRenderFns:[]},it=a("VU/8")(at,nt,!1,function(t){a("C01a")},null,null).exports,st={name:"login",data:function(){return{username:"a38f7992-0096-4c65-b3ff-b7db7d264d98",token:!1}},mounted:function(){},methods:{sub:function(){this.username?Z()({message:"登录成功",duration:500}):Z()({message:"登录失败",duration:500})}}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("mt-field",{attrs:{label:"Access Token",placeholder:"请输入token"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),a("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.sub}},[t._v("登录")]),t._v(" "),a("div",{staticClass:"mint-field-state is-warning tips"},[a("i",{staticClass:"mintui mintui-field-warning"}),t._v(" "),a("span",{on:{click:function(e){t.token=!t.token}}},[t._v("如何获取Access Token")])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.token,expression:"token"}],staticStyle:{margin:"0 .5rem","line-height":"1rem","font-size":"12px","word-break":"break-all"}},[t._v("\n    登录"),a("a",{staticStyle:{color:"#41b883"},attrs:{href:"https://www.vue-js.com"}},[t._v("vue社区")]),t._v("，在设置页面就可以看到自己的Access Token\n  ")])],1)},staticRenderFns:[]},lt=a("VU/8")(st,ot,!1,function(t){a("FB1k")},null,null).exports;L.default.use(z.a);var ct=new z.a({linkExactActiveClass:"actClass",routes:[{path:"/",name:"index",component:D,children:[]},{path:"/details",name:"detail",component:K},{path:"/message",name:"message",component:et},{path:"/about",name:"about",component:it},{path:"/login",name:"Login",component:lt},{path:"*",redirect:"/login"}]}),rt=(a("d8/S"),a("mtWM")),ut=a.n(rt);L.default.component(F.a.name,F.a),L.default.component(R.a.name,R.a),L.default.component(S.a.name,S.a),L.default.component(V.a.name,V.a),L.default.component(y.a.name,y.a),L.default.component(k.a.name,k.a),L.default.component(g.a.name,g.a),L.default.component(h.a.name,h.a),L.default.component(v.a.name,v.a),L.default.component(p.a.name,p.a),L.default.component(d.a.name,d.a),L.default.component(r.a.name,r.a),L.default.component(l.a.name,l.a),L.default.component(s.a.name,s.a),L.default.prototype.$ajax=ut.a,ut.a.defaults.baseURL="https://www.vue-js.com/",L.default.config.productionTip=!1,new L.default({el:"#app",router:ct,template:"<App/>",components:{App:j}}),ct.beforeEach(function(t,e,a){a()})},OgVB:function(t,e){},RQR2:function(t,e){},T1y7:function(t,e){},UIRh:function(t,e){},ULTG:function(t,e){},XDqQ:function(t,e){},"d8/S":function(t,e){},f1Vh:function(t,e){},"giZ/":function(t,e){},jayP:function(t,e){},joTY:function(t,e){},lrMw:function(t,e){},"q/am":function(t,e){},xAa5:function(t,e){},"y+mr":function(t,e){}},["NHnr"]);