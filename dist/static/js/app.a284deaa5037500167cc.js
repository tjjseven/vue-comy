webpackJsonp([1],{"+hXE":function(t,e){},"2Meb":function(t,e){},"2yAK":function(t,e){},"4IcG":function(t,e){},"79Xc":function(t,e){},CcXR:function(t,e){},Cz6C:function(t,e){},EV2v:function(t,e){},HBIl:function(t,e){},Lrbi:function(t,e){},NHnr:function(t,e,a){"use strict";function n(t){var e=new Date(t).getTime(),a=((new Date).getTime()-e)/1e3,n=L.findIndex(function(t,e){return t<=a&&L[e+1]>a});return 0===n?R[0]:(a=a/L[n]|0)+R[n]}Object.defineProperty(e,"__esModule",{value:!0});a("OgVB");var s=a("/Lyv"),i=a.n(s),o=(a("CcXR"),a("fKbY")),l=a.n(o),r=(a("ULTG"),a("oobK")),c=a.n(r),u=(a("UIRh"),a("uOA4")),d=a.n(u),m=(a("jayP"),a("QKkm")),f=a.n(m),h=(a("Lrbi"),a("aMxQ")),v=a.n(h),_=(a("Cz6C"),a("dU8H")),p=a.n(_),b=(a("+hXE"),a("fUV+")),g=a.n(b),C=(a("y+mr"),a("3JdW")),x=a.n(C),k=(a("XDqQ"),a("Axha")),y=a.n(k),w=a("7+uW"),V={render:function(){var t=this.$createElement;return(this._self._c||t)("mt-header",{attrs:{title:this.headerC,fixed:""}})},staticRenderFns:[]},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("mt-tabbar",{attrs:{id:"foots",fixed:""}},[e("mt-tab-item",[e("router-link",{attrs:{to:"/"}},[this._v(this._s(this.footer[0]))])],1),this._v(" "),e("mt-tab-item",[e("router-link",{attrs:{to:"/message"}},[this._v(this._s(this.footer[1]))])],1),this._v(" "),e("mt-tab-item",[e("router-link",{attrs:{to:"/about"}},[this._v(this._s(this.footer[2]))])],1)],1)},staticRenderFns:[]},T={name:"app",components:{Heads:a("VU/8")({name:"heads",data:function(){return{headerC:"vue社区"}}},V,!1,function(t){a("2Meb")},null,null).exports,Foots:a("VU/8")({name:"foots",data:function(){return{footer:["首页","消息","关于"]}}},E,!1,function(t){a("hz4U")},null,null).exports}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Heads"),this._v(" "),e("div",{attrs:{id:"content"}},[e("transition",{attrs:{name:"trans-router",mode:"out-in"}},[e("router-view")],1)],1),this._v(" "),e("Foots")],1)},staticRenderFns:[]},M=a("VU/8")(T,U,!1,function(t){a("EV2v")},null,null).exports,S=a("/ocq"),F=(a("HBIl"),a("svqn")),I=a.n(F),L=[0,60,3600,86400,2592e3,94608e4,Number.MAX_VALUE],R=["刚刚","分钟前","小时前","天前","月前","年前"],$={name:"scroll",data:function(){return{mescroll:null,pdlist:[]}},props:["tab","scroll"],mounted:function(){this.mescroll=new I.a(this.scroll,{up:{callback:this.upCallback,toTop:{},empty:{warpId:"dataList",icon:"../res/img/mescroll-empty.png",tip:"亲,暂无相关数据哦~",btntext:"去逛逛 >",btnClick:function(){alert("点击了去逛逛按钮")}}}}),document.getElementById("dataList").style.display="block";var t=document.querySelectorAll("img");this.imgLoad(t,function(t){})},methods:{imgLoad:function(t,e){var a=this;t.forEach(function(t){var n=setInterval(function(){t.complete?(e(t),clearInterval(n)):console.log("404")},50);t.onerror=function(){console.log("404失败"),a.onerror=null}})},errImg:function(){console.log("失败")},upCallback:function(t){var e=this;!function(t,a,n,s){e.$ajax.get("/api/v1/topics",{params:{tab:e.tab,page:t,limit:a}}).then(function(t){var e=t.data.data;n&&n(e)}).catch(function(t){t&&console.log(t),s&&s()})}(t.num,t.size,function(a){1===t.num&&(e.pdlist=[]),e.pdlist=e.pdlist.concat(a),e.mescroll.endSuccess(a.length,!0)},function(){e.mescroll.endErr()})},timeFormat:function(t){return t.map(function(t){switch(t.time=n(t.create_at),t.tab){case"share":t.tab="分享";break;case"ask":t.tab="问答";break;case"job":t.tab="招聘"}return t})}},computed:{}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mescroll",attrs:{id:t.scroll}},[a("div",{staticClass:"mescroll-bounce"},[a("ul",{staticClass:"data-list",attrs:{id:"dataList"}},t._l(t.timeFormat(t.pdlist),function(e,n){return a("router-link",{key:n,attrs:{to:{path:"/details",query:{id:e.id}},tag:"li"}},[a("div",{staticClass:"list_top table"},[a("div",{staticClass:"top_img table_cell"},[a("img",{attrs:{src:e.author.avatar_url},on:{error:t.errImg}})]),t._v(" "),a("div",{staticClass:"top_title table_cell"},[a("h2",{staticClass:"two_ell"},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"top_tab table_cell"},[e.top?a("p",{staticClass:"tab",staticStyle:{background:"#e40e0e"}},[t._v("置顶")]):e.good?a("p",{staticClass:"tab"},[t._v("精华")]):a("p",{staticClass:"tab"},[t._v(t._s(e.tab))])])]),t._v(" "),a("div",{staticClass:"list_btm"},[a("div",{staticClass:"btm_left"},[a("span",[t._v(t._s(e.author.loginname))]),t._v(" "),a("span",{staticStyle:{"font-size":".6rem"}},[t._v("发布于"+t._s(e.time))])]),t._v(" "),a("div",{staticClass:"btm_right"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-pingjia"}})]),t._v(" "),a("span",[t._v(t._s(e.reply_count))]),t._v(" "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-Artboard"}})]),t._v(" "),a("span",[t._v(t._s(e.visit_count))])])])])}))])])},staticRenderFns:[]},A={name:"index",components:{Scroll:a("VU/8")($,j,!1,function(t){a("4IcG")},null,null).exports},data:function(){return{selected:0,navMsg:[{label:"全部",tab:"all"},{label:"精华",tab:"good"},{label:"分享",tab:"share"},{label:"问答",tab:"ask"},{label:"weex",tab:"weex"},{label:"招聘",tab:"job"}]}},mounted:function(){},methods:{}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("mt-navbar",{attrs:{fixed:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.navMsg,function(e,n){return a("mt-tab-item",{key:n,attrs:{id:n}},[t._v(t._s(e.label))])})),t._v(" "),a("mt-tab-container",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.navMsg,function(e,n){return a("mt-tab-container-item",{key:n,attrs:{id:n}},[a("Scroll",{attrs:{tab:t.navMsg[n].tab,scroll:"scroll"+n}})],1)}))],1)},staticRenderFns:[]},X=a("VU/8")(A,H,!1,function(t){a("2yAK")},null,null).exports,z={name:"detail",data:function(){return{details:"",authorTime:"",content:"",sheetVisible:!0,actions:[{name:"返回",method:this.toBack},{name:"评论",method:this.toCommit}]}},mounted:function(){var t=this;this.$ajax({method:"get",url:"/api/v1/topic/"+this.$route.query.id}).then(function(e){switch(t.details=e.data.data,t.authorTime=n(t.details.create_at),t.details.tab){case"share":t.details.tab="分享";break;case"ask":t.details.tab="问答";break;case"job":t.details.tab="招聘"}}).catch(function(t){t&&console.log(t)})},methods:{toBack:function(){this.$router.go(-1)},toCommit:function(){var t=this;i.a.prompt("<textarea>11</textarea>","请输入评论内容",{closeOnClickModal:!1,confirmButtonText:"提交",showInput:!1}).then(function(e){var a=e.value;e.action;t.sheetVisible=!0,console.log(a)},function(e){t.sheetVisible=!0,console.log(e)})},timeFormat:function(t){return t.map(function(t){return t.time=n(t.create_at),t})}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details"},[t.details?a("div",{attrs:{id:"details"}},[a("h1",{on:{click:function(e){t.sheetVisible=!t.sheetVisible}}},[t._v(t._s(t.details.title))]),t._v(" "),a("div",{staticClass:"table",style:{marginTop:"1rem",width:"100%"}},[a("div",{staticClass:"table_cell",staticStyle:{width:"12%"}},[a("img",{attrs:{src:t.details.author.avatar_url,alt:"author"}})]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"63%",padding:"0 .5rem"}},[a("p",[t._v(t._s(t.details.author.loginname))]),t._v(" "),a("span",[t._v(t._s(t.authorTime))])]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"25%","font-size":".6rem",color:"#5f5f5f","text-align":"right","padding-right":".4rem"}},[a("p",[t._v("来自:"+t._s(t.details.tab))]),t._v(" "),a("span",[t._v(t._s(t.details.visit_count)+"次访问")])])]),t._v(" "),a("div",{staticClass:"det_content",domProps:{innerHTML:t._s(t.details.content)}}),t._v(" "),t.details.replies.length?a("h2",{staticClass:"commit_count"},[t._v(t._s(t.details.replies.length)+"人评论:")]):a("h2",{staticStyle:{"margin-top":"2rem","text-align":"center"}},[t._v("没有人评论，快来抢沙发...")]),t._v(" "),a("ul",{staticClass:"commit_list"},t._l(t.timeFormat(t.details.replies),function(e,n){return a("li",{key:n},[a("div",{staticClass:"table",style:{marginTop:"1rem",width:"100%"}},[a("div",{staticClass:"table_cell",staticStyle:{width:"12%"}},[a("img",{attrs:{src:e.author.avatar_url,alt:""}})]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"66%","padding-left":".5rem"}},[a("p",[t._v(t._s(e.author.loginname)+" "),a("span",{staticStyle:{color:"#386ac0"}},[t._v("#"+t._s(n+1)+"楼\n              "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.details.author.loginname===e.author.loginname,expression:"details.author.loginname===replies.author.loginname"}]},[t._v("【楼主】")])])]),t._v(" "),a("span",[t._v(t._s(e.time))])]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"22%","text-align":"right"}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-zan"}})]),t._v(" "),a("span",[t._v(t._s(e.ups.length)+"  ")]),t._v(" "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-huifu"}})])])]),t._v(" "),a("div",{staticClass:"commit_content",domProps:{innerHTML:t._s(e.content)}})])})),t._v(" "),a("mt-actionsheet",{attrs:{actions:t.actions,closeOnClickModal:"",cancelText:""},model:{value:t.sheetVisible,callback:function(e){t.sheetVisible=e},expression:"sheetVisible"}})],1):a("p",[a("mt-spinner",{attrs:{type:"snake"}})],1)])},staticRenderFns:[]},q=a("VU/8")(z,B,!1,function(t){a("T1y7")},null,null).exports,O={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"message"},[this._v("\n  message\n")])},staticRenderFns:[]},K=a("VU/8")({name:"message",data:function(){return{}},mounted:function(){}},O,!1,function(t){a("pM9m")},null,null).exports,P={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"about"},[this._v("\n  about\n")])},staticRenderFns:[]},D=a("VU/8")({name:"about",data:function(){return{}},mounted:function(){}},P,!1,function(t){a("79Xc")},null,null).exports;w.default.use(S.a);var G=new S.a({linkExactActiveClass:"actClass",routes:[{path:"/",name:"index",component:X,children:[]},{path:"/details",name:"detail",component:q},{path:"/message",name:"message",component:K},{path:"/about",name:"about",component:D}]}),N=(a("d8/S"),a("mtWM")),Q=a.n(N);w.default.component(y.a.name,y.a),w.default.component(x.a.name,x.a),w.default.component(g.a.name,g.a),w.default.component(p.a.name,p.a),w.default.component(v.a.name,v.a),w.default.component(f.a.name,f.a),w.default.component(d.a.name,d.a),w.default.component(c.a.name,c.a),w.default.component(l.a.name,l.a),w.default.component(i.a.name,i.a),w.default.prototype.$ajax=Q.a,Q.a.defaults.baseURL="https://www.vue-js.com/",w.default.config.productionTip=!1,new w.default({el:"#app",router:G,template:"<App/>",components:{App:M}}),G.beforeEach(function(t,e,a){console.log(t.path),a()})},OgVB:function(t,e){},T1y7:function(t,e){},UIRh:function(t,e){},ULTG:function(t,e){},XDqQ:function(t,e){},"d8/S":function(t,e){},hz4U:function(t,e){},jayP:function(t,e){},joTY:function(t,e){},pM9m:function(t,e){},"y+mr":function(t,e){}},["NHnr"]);