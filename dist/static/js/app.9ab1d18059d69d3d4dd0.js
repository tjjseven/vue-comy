webpackJsonp([1],{"+hXE":function(t,e){},"2yAK":function(t,e){},"79Xc":function(t,e){},AuUX:function(t,e){},Cz6C:function(t,e){},HBIl:function(t,e){},I0BW:function(t,e){},Lrbi:function(t,e){},NHnr:function(t,e,a){"use strict";function n(t){var e=new Date(t).getTime(),a=((new Date).getTime()-e)/1e3,n=F.findIndex(function(t,e){return t<=a&&F[e+1]>a});return 0===n?$[0]:(a=a/F[n]|0)+$[n]}Object.defineProperty(e,"__esModule",{value:!0});a("ULTG");var s=a("oobK"),i=a.n(s),l=(a("UIRh"),a("uOA4")),o=a.n(l),r=(a("jayP"),a("QKkm")),c=a.n(r),u=(a("Lrbi"),a("aMxQ")),d=a.n(u),m=(a("Cz6C"),a("dU8H")),_=a.n(m),f=(a("+hXE"),a("fUV+")),v=a.n(f),p=(a("y+mr"),a("3JdW")),h=a.n(p),b=(a("XDqQ"),a("Axha")),g=a.n(b),C=a("7+uW"),y={render:function(){var t=this.$createElement;return(this._self._c||t)("mt-header",{attrs:{title:this.headerC,fixed:""}})},staticRenderFns:[]},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("mt-tabbar",{attrs:{id:"foots",fixed:""}},[a("mt-tab-item",[a("router-link",{attrs:{to:"/"}},[t._v(t._s(t.footer[0]))])],1),t._v(" "),a("mt-tab-item",[a("router-link",{attrs:{to:"/message"}},[t._v(t._s(t.footer[1]))])],1),t._v(" "),a("mt-tab-item",[a("router-link",{attrs:{to:"/about"}},[t._v(t._s(t.footer[2]))])],1)],1)},staticRenderFns:[]},k={name:"app",components:{Heads:a("VU/8")({name:"heads",data:function(){return{headerC:"vue"}}},y,!1,function(t){a("AuUX")},null,null).exports,Foots:a("VU/8")({name:"foots",data:function(){return{footer:["首页","消息","关于"]}}},x,!1,function(t){a("hz4U")},null,null).exports}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Heads"),this._v(" "),e("div",{attrs:{id:"content"}},[e("transition",{attrs:{name:"trans-router",mode:"out-in"}},[e("router-view")],1)],1),this._v(" "),e("Foots")],1)},staticRenderFns:[]},U=a("VU/8")(k,w,!1,function(t){a("ru+T")},null,null).exports,E=a("/ocq"),S=(a("HBIl"),a("svqn")),T=a.n(S),F=[0,60,3600,86400,2592e3,94608e4,Number.MAX_VALUE],$=["刚刚","分钟前","小时前","天前","月前","年前"],I={name:"scroll",data:function(){return{mescroll:null,pdlist:[]}},props:["tab","scroll"],mounted:function(){this.mescroll=new T.a(this.scroll,{up:{callback:this.upCallback,toTop:{},empty:{warpId:"dataList",icon:"../res/img/mescroll-empty.png",tip:"亲,暂无相关数据哦~",btntext:"去逛逛 >",btnClick:function(){alert("点击了去逛逛按钮")}}}}),document.getElementById("dataList").style.display="block";var t=document.querySelectorAll("img");this.imgLoad(t,function(t){})},methods:{imgLoad:function(t,e){var a=this;t.forEach(function(t){var n=setInterval(function(){t.complete?(e(t),clearInterval(n)):console.log("404")},50);t.onerror=function(){console.log("404失败"),a.onerror=null}})},errImg:function(){console.log("失败")},upCallback:function(t){var e=this;!function(t,a,n,s){e.$ajax.get("/api/v1/topics",{params:{tab:e.tab,page:t,limit:a}}).then(function(t){var e=t.data.data;n&&n(e)}).catch(function(t){t&&console.log(t),s&&s()})}(t.num,t.size,function(a){1===t.num&&(e.pdlist=[]),e.pdlist=e.pdlist.concat(a),e.mescroll.endSuccess(a.length,!0)},function(){e.mescroll.endErr()})},timeFormat:function(t){return t.map(function(t){switch(t.time=n(t.create_at),t.tab){case"share":t.tab="分享";break;case"ask":t.tab="问答";break;case"job":t.tab="招聘"}return t})}},computed:{}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mescroll",attrs:{id:t.scroll}},[a("div",{staticClass:"mescroll-bounce"},[a("ul",{staticClass:"data-list",attrs:{id:"dataList"}},t._l(t.timeFormat(t.pdlist),function(e,n){return a("router-link",{key:n,attrs:{to:{path:"/details",query:{id:e.id}},tag:"li"}},[a("div",{staticClass:"list_top table"},[a("div",{staticClass:"top_img table_cell"},[a("img",{attrs:{src:e.author.avatar_url},on:{error:t.errImg}})]),t._v(" "),a("div",{staticClass:"top_title table_cell"},[a("h2",{staticClass:"two_ell"},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"top_tab table_cell"},[e.top?a("p",{staticClass:"tab",staticStyle:{background:"#e40e0e"}},[t._v("置顶")]):e.good?a("p",{staticClass:"tab"},[t._v("精华")]):a("p",{staticClass:"tab"},[t._v(t._s(e.tab))])])]),t._v(" "),a("div",{staticClass:"list_btm"},[a("div",{staticClass:"btm_left"},[a("span",[t._v(t._s(e.author.loginname))]),t._v(" "),a("span",{staticStyle:{"font-size":".6rem"}},[t._v("发布于"+t._s(e.time))])]),t._v(" "),a("div",{staticClass:"btm_right"},[a("span",[t._v(t._s(e.reply_count))]),t._v(" "),a("span",[t._v(t._s(e.visit_count))])])])])}))])])},staticRenderFns:[]},A={name:"index",components:{Scroll:a("VU/8")(I,L,!1,function(t){a("I0BW")},null,null).exports},data:function(){return{selected:0,navMsg:[{label:"全部",tab:"all"},{label:"精华",tab:"good"},{label:"分享",tab:"share"},{label:"问答",tab:"ask"},{label:"weex",tab:"weex"},{label:"招聘",tab:"job"}]}},mounted:function(){},methods:{}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("mt-navbar",{attrs:{fixed:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.navMsg,function(e,n){return a("mt-tab-item",{key:n,attrs:{id:n}},[t._v(t._s(e.label))])})),t._v(" "),a("mt-tab-container",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.navMsg,function(e,n){return a("mt-tab-container-item",{key:n,attrs:{id:n}},[a("Scroll",{attrs:{tab:t.navMsg[n].tab,scroll:"scroll"+n}})],1)}))],1)},staticRenderFns:[]},j=a("VU/8")(A,M,!1,function(t){a("2yAK")},null,null).exports,R={name:"detail",data:function(){return{details:"",authorTime:"",content:""}},mounted:function(){var t=this;this.$ajax({method:"get",url:"/api/v1/topic/"+this.$route.query.id}).then(function(e){switch(t.details=e.data.data,t.authorTime=n(t.details.create_at),t.details.tab){case"share":t.details.tab="分享";break;case"ask":t.details.tab="问答";break;case"job":t.details.tab="招聘"}}).catch(function(t){t&&console.log(t)})},methods:{timeFormat:function(t){return t.map(function(t){return t.time=n(t.create_at),t})}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details"},[t.details?a("div",[a("h1",[t._v(t._s(t.details.title))]),t._v(" "),a("div",{staticClass:"table",style:{marginTop:"1rem"}},[a("div",{staticClass:"table_cell",staticStyle:{width:"12%"}},[a("img",{attrs:{src:t.details.author.avatar_url,alt:"author"}})]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"63%",padding:"0 .5rem"}},[a("p",[t._v(t._s(t.details.author.loginname))]),t._v(" "),a("span",[t._v(t._s(t.authorTime))])]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"25%","font-size":".6rem",color:"#5f5f5f","text-align":"right","padding-right":".4rem"}},[a("p",[t._v("来自:"+t._s(t.details.tab))]),t._v(" "),a("span",[t._v(t._s(t.details.visit_count)+"次访问")])])]),t._v(" "),a("div",{staticClass:"det_content",domProps:{innerHTML:t._s(t.details.content)}}),t._v(" "),t.details.replies.length?a("h2",{staticClass:"commit_count"},[t._v(t._s(t.details.replies.length)+"人评论:")]):a("h2",{staticStyle:{"margin-top":"2rem","text-align":"center"}},[t._v("没有人评论，快来抢沙发...")]),t._v(" "),a("ul",{staticClass:"commit_list"},t._l(t.timeFormat(t.details.replies),function(e,n){return a("li",{key:n},[a("div",{staticClass:"table",style:{marginTop:"1rem"}},[a("div",{staticClass:"table_cell",staticStyle:{width:"12%"}},[a("img",{attrs:{src:e.author.avatar_url,alt:""}})]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"70%","padding-left":".5rem"}},[a("p",[t._v(t._s(e.author.loginname)+" "),a("span",{staticStyle:{color:"#386ac0"}},[t._v("#"+t._s(n+1)+"楼\n              "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.details.author.loginname===e.author.loginname,expression:"details.author.loginname===replies.author.loginname"}]},[t._v("【题主】")])])]),t._v(" "),a("span",[t._v(t._s(e.time))])]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"18%","text-align":"right"}},[a("i",{staticClass:"el-icon-star-on"}),t._v("\n            "+t._s(e.ups.length)+" \n            "),a("i",{staticClass:"el-icon-edit"})])]),t._v(" "),a("div",{staticClass:"commit_content",domProps:{innerHTML:t._s(e.content)}})])})),t._v(" "),a("ul",{staticClass:"back_com_ul"},[a("li",{on:{click:function(e){t.$router.go(-1)}}},[a("i",{staticClass:"el-icon-arrow-left"}),t._v("  返回")]),t._v(" "),t._m(0)])]):a("p",[a("mt-spinner",{attrs:{type:"snake"}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("评论  "),e("i",{staticClass:"el-icon-edit-outline"})])}]},H=a("VU/8")(R,V,!1,function(t){a("tYct")},null,null).exports,X={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"message"},[this._v("\n  message\n")])},staticRenderFns:[]},q=a("VU/8")({name:"message",data:function(){return{}},mounted:function(){}},X,!1,function(t){a("pM9m")},null,null).exports,z={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"about"},[this._v("\n  about\n")])},staticRenderFns:[]},B=a("VU/8")({name:"about",data:function(){return{}},mounted:function(){}},z,!1,function(t){a("79Xc")},null,null).exports;C.default.use(E.a);var P=new E.a({linkExactActiveClass:"actClass",routes:[{path:"/",name:"index",component:j,children:[]},{path:"/details",name:"detail",component:H},{path:"/message",name:"message",component:q},{path:"/about",name:"about",component:B}]}),W=(a("d8/S"),a("mtWM")),D=a.n(W);C.default.component(g.a.name,g.a),C.default.component(h.a.name,h.a),C.default.component(v.a.name,v.a),C.default.component(_.a.name,_.a),C.default.component(d.a.name,d.a),C.default.component(c.a.name,c.a),C.default.component(o.a.name,o.a),C.default.component(i.a.name,i.a),C.default.prototype.$ajax=D.a,D.a.defaults.baseURL="https://www.vue-js.com/",C.default.config.productionTip=!1,new C.default({el:"#app",router:P,template:"<App/>",components:{App:U}}),P.beforeEach(function(t,e,a){console.log(t.path),a()})},UIRh:function(t,e){},ULTG:function(t,e){},XDqQ:function(t,e){},"d8/S":function(t,e){},hz4U:function(t,e){},jayP:function(t,e){},joTY:function(t,e){},pM9m:function(t,e){},"ru+T":function(t,e){},tYct:function(t,e){},"y+mr":function(t,e){}},["NHnr"]);