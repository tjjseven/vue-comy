webpackJsonp([1],{"+8Ay":function(t,e){},"2IVb":function(t,e){},"68NN":function(t,e){},"79Xc":function(t,e){},"9u7V":function(t,e){},HBIl:function(t,e){},LPfV:function(t,e){},NHnr:function(t,e,a){"use strict";function n(t){var e=new Date(t).getTime(),a=((new Date).getTime()-e)/1e3,n=v.findIndex(function(t,e){return t<=a&&v[e+1]>a});return 0===n?m[0]:(a=a/v[n]|0)+m[n]}Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"heads"}},[this._v(this._s(this.headerC))])},staticRenderFns:[]},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{id:"foots"}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("router-link",{attrs:{to:"/"}},[t._v(t._s(t.footer[0]))])],1)]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("div",{staticClass:"grid-content bg-purple"},[a("router-link",{attrs:{to:"/message"}},[t._v(t._s(t.footer[1]))])],1)])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[a("router-link",{attrs:{to:"/about"}},[t._v(t._s(t.footer[2]))])],1)])],1)},staticRenderFns:[]},r={name:"app",components:{Heads:a("VU/8")({name:"heads",data:function(){return{headerC:"vue"}}},l,!1,function(t){a("2IVb")},null,null).exports,Foots:a("VU/8")({name:"foots",data:function(){return{footer:["首页","消息","关于"]}}},i,!1,function(t){a("LPfV")},null,null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",{attrs:{id:"app"}},[e("el-header",[e("Heads")],1),this._v(" "),e("el-main",{attrs:{id:"content"}},[e("transition",{attrs:{name:"trans-router",mode:"out-in"}},[e("router-view")],1)],1),this._v(" "),e("el-footer",[e("Foots")],1)],1)},staticRenderFns:[]},c=a("VU/8")(r,o,!1,function(t){a("68NN")},null,null).exports,u=a("/ocq"),d=(a("HBIl"),a("svqn")),p=a.n(d),v=[0,60,3600,86400,2592e3,94608e4,Number.MAX_VALUE],m=["刚刚","分钟前","小时前","天前","月前","年前"],g={name:"scroll",data:function(){return{mescroll:null,pdlist:[]}},props:["tab","scroll"],mounted:function(){this.mescroll=new p.a(this.scroll,{up:{callback:this.upCallback,toTop:{},empty:{warpId:"dataList",icon:"../res/img/mescroll-empty.png",tip:"亲,暂无相关数据哦~",btntext:"去逛逛 >",btnClick:function(){alert("点击了去逛逛按钮")}}}}),document.getElementById("dataList").style.display="block";var t=document.querySelectorAll("img");this.imgLoad(t,function(t){console.log(t)})},methods:{imgLoad:function(t,e){var a=this;t.forEach(function(t){var n=setInterval(function(){t.complete?(e(t),clearInterval(n)):console.log("404")},50);t.onerror=function(){console.log("404失败"),a.onerror=null}})},errImg:function(){console.log("失败")},upCallback:function(t){var e=this;!function(t,a,n,s){e.$ajax.get("/api/v1/topics",{params:{tab:e.tab,page:t,limit:a}}).then(function(t){var e=t.data.data;n&&n(e)}).catch(function(t){t&&console.log(t),s&&s()})}(t.num,t.size,function(a){1===t.num&&(e.pdlist=[]),e.pdlist=e.pdlist.concat(a),e.mescroll.endSuccess(a.length,!0)},function(){e.mescroll.endErr()})},timeFormat:function(t){return t.map(function(t){switch(t.time=n(t.create_at),t.tab){case"share":t.tab="分享";break;case"ask":t.tab="问答";break;case"job":t.tab="招聘"}return t})}},computed:{}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mescroll",attrs:{id:t.scroll}},[a("div",{staticClass:"mescroll-bounce"},[a("ul",{staticClass:"data-list",attrs:{id:"dataList"}},t._l(t.timeFormat(t.pdlist),function(e,n){return a("li",{key:n},[a("router-link",{attrs:{to:{path:"/details",query:{id:e.id}},tag:"div"}},[a("el-row",{style:{marginBottom:".6rem"},attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("img",{attrs:{src:e.author.avatar_url,alt:""},on:{error:t.errImg}})])]),t._v(" "),a("el-col",{staticStyle:{"padding-left":"0"},attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple data_title"},[t._v("\n              "+t._s(e.title)+"\n            ")])]),t._v(" "),e.top?a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple tab",staticStyle:{background:"#e40e0e"}},[t._v("\n              置顶\n            ")])]):e.good?a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple tab"},[t._v("\n              精华\n            ")])]):a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple tab"},[t._v("\n              "+t._s(e.tab)+"\n            ")])])],1),t._v(" "),a("el-row",{staticStyle:{color:"#515151"},attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("\n              "+t._s(e.author.loginname)+"\n            ")])]),t._v(" "),a("el-col",{staticStyle:{"padding-left":"0"},attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"text-align":"left","font-size":".6rem"}},[t._v("\n              发布于"+t._s(e.time)+"\n            ")])]),t._v(" "),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"text-align":"right"}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v("\n              "+t._s(e.reply_count)+"\n              "),a("i",{staticClass:"el-icon-view"}),t._v("\n              "+t._s(e.visit_count)+"\n            ")])])],1)],1)],1)}))])])},staticRenderFns:[]},f={name:"index",components:{Scroll:a("VU/8")(g,_,!1,function(t){a("9u7V")},null,null).exports},data:function(){return{navMsg:[{label:"全部",tab:"all"},{label:"精华",tab:"good"},{label:"分享",tab:"share"},{label:"问答",tab:"ask"},{label:"weex",tab:"weex"},{label:"招聘",tab:"job"}],activeName:"first"}},mounted:function(){},methods:{handleClick:function(t,e){}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.navMsg[0].label,name:"first"}},[a("Scroll",{attrs:{tab:t.navMsg[0].tab,scroll:"scroll1"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.navMsg[1].label,name:"second"}},[a("Scroll",{attrs:{tab:t.navMsg[1].tab,scroll:"scroll2"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.navMsg[2].label,name:"third"}},[a("Scroll",{attrs:{tab:t.navMsg[2].tab,scroll:"scroll3"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.navMsg[3].label,name:"fourth"}},[a("Scroll",{attrs:{tab:t.navMsg[3].tab,scroll:"scroll4"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.navMsg[4].label,name:"five"}},[a("Scroll",{attrs:{tab:t.navMsg[4].tab,scroll:"scroll5"}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.navMsg[5].label,name:"sex"}},[a("Scroll",{attrs:{tab:t.navMsg[5].tab,scroll:"scroll6"}})],1)],1)],1)},staticRenderFns:[]},h=a("VU/8")(f,b,!1,function(t){a("+8Ay")},null,null).exports,C={name:"details",data:function(){return{details:"",authorTime:"",content:""}},mounted:function(){var t=this;this.$ajax({method:"get",url:"/api/v1/topic/"+this.$route.query.id}).then(function(e){switch(t.details=e.data.data,t.authorTime=n(t.details.create_at),t.details.tab){case"share":t.details.tab="分享";break;case"ask":t.details.tab="问答";break;case"job":t.details.tab="招聘"}console.log(t.details)}).catch(function(t){t&&console.log(t)})},methods:{timeFormat:function(t){return t.map(function(t){return t.time=n(t.create_at),t})},as:function(){console.log(this.$refs.con)}},directives:{re:{inserted:function(t){t.innerHTML=arguments[2].context.details.content}}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details"},[t.details?a("div",[a("h1",[t._v(t._s(t.details.title))]),t._v(" "),a("el-row",{style:{marginTop:"1rem"},attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("img",{attrs:{src:t.details.author.avatar_url,alt:""}})])]),t._v(" "),a("el-col",{staticStyle:{"padding-left":"0"},attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple data_title"},[a("p",[t._v(t._s(t.details.author.loginname))]),t._v(" "),a("span",[t._v(t._s(t.authorTime))])])]),t._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple",staticStyle:{"text-align":"right","margin-right":".6rem","font-size":".6rem",color:"#5f5f5f"}},[a("p",[t._v("来自:"+t._s(t.details.tab))]),t._v(" "),a("span",[t._v(t._s(t.details.visit_count)+"次访问")])])])],1),t._v(" "),a("div",{staticClass:"det_content",domProps:{innerHTML:t._s(t.details.content)}}),t._v(" "),t.details.replies.length?a("h2",{staticClass:"commit_count"},[t._v(t._s(t.details.replies.length)+"人评论:")]):a("h2",{staticStyle:{"margin-top":"2rem","text-align":"center"}},[t._v("没有人评论，快来抢沙发...")]),t._v(" "),a("ul",{staticClass:"commit_list"},t._l(t.timeFormat(t.details.replies),function(e,n){return a("li",{key:n},[a("el-row",{style:{marginTop:"1rem"},attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("img",{attrs:{src:e.author.avatar_url,alt:""}})])]),t._v(" "),a("el-col",{staticStyle:{"padding-left":"0"},attrs:{span:13}},[a("div",{staticClass:"grid-content bg-purple data_title"},[a("p",[t._v(t._s(e.author.loginname)+" "),a("span",{staticStyle:{color:"#386ac0"}},[t._v("#"+t._s(n+1)+"楼\n            "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.details.author.loginname===e.author.loginname,expression:"details.author.loginname===replies.author.loginname"}]},[t._v("【题主】")])])]),t._v(" "),a("span",[t._v(t._s(e.time))])])]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("i",{staticClass:"el-icon-star-on"}),t._v("\n          "+t._s(e.ups.length)+" \n          "),a("i",{staticClass:"el-icon-edit"})])])],1),t._v(" "),a("div",{staticClass:"commit_content",domProps:{innerHTML:t._s(e.content)}},[t._v("}")])],1)}))],1):a("p",[a("i",{staticClass:"el-icon-loading"})])])},staticRenderFns:[]},x=a("VU/8")(C,y,!1,function(t){a("WtwN")},null,null).exports,k={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"message"},[this._v("\n  message\n")])},staticRenderFns:[]},w=a("VU/8")({name:"message",data:function(){return{}},mounted:function(){}},k,!1,function(t){a("pM9m")},null,null).exports,M={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"about"},[this._v("\n  about\n")])},staticRenderFns:[]},S=a("VU/8")({name:"about",data:function(){return{}},mounted:function(){}},M,!1,function(t){a("79Xc")},null,null).exports;s.default.use(u.a);var V=new u.a({linkExactActiveClass:"actClass",routes:[{path:"/",name:"index",component:h,children:[]},{path:"/details",name:"details",component:x},{path:"/message",name:"message",component:w},{path:"/about",name:"about",component:S}]}),F=a("zL8q"),N=a.n(F),E=(a("tvR6"),a("mtWM")),$=a.n(E);s.default.use(N.a),s.default.prototype.$ajax=$.a,s.default.config.productionTip=!1,new s.default({el:"#app",router:V,template:"<App/>",components:{App:c}})},WtwN:function(t,e){},pM9m:function(t,e){},tvR6:function(t,e){}},["NHnr"]);