webpackJsonp([1],{"+hXE":function(t,e){},"2Meb":function(t,e){},"34+y":function(t,e){},"9l8l":function(t,e){},AOQV:function(t,e){},CcXR:function(t,e){},Cz6C:function(t,e){},GlCO:function(t,e){},HBIl:function(t,e){},ItON:function(t,e){},Lrbi:function(t,e){},NHnr:function(t,e,a){"use strict";function n(t){var e=new Date(t).getTime(),a=((new Date).getTime()-e)/1e3,n=Q.findIndex(function(t,e){return t<=a&&Q[e+1]>a});return 0===n?X[0]:(a=a/Q[n]|0)+X[n]}Object.defineProperty(e,"__esModule",{value:!0});var s={};a.d(s,"sendAjax",function(){return yt});a("goBr");var i=a("IBPZ"),o=a.n(i),l=(a("GlCO"),a("Ttp7")),c=a.n(l),r=(a("q/am"),a("4VPn")),u=a.n(r),p=(a("RQR2"),a("96WI")),m=a.n(p),d=(a("f1Vh"),a("ZQVe")),h=a.n(d),f=(a("lrMw"),a("7YS2")),v=a.n(f),_=(a("OgVB"),a("/Lyv")),b=a.n(_),g=(a("CcXR"),a("fKbY")),k=a.n(g),C=(a("ULTG"),a("oobK")),x=a.n(C),y=(a("UIRh"),a("uOA4")),w=a.n(y),T=(a("jayP"),a("QKkm")),O=a.n(T),S=(a("Lrbi"),a("aMxQ")),V=a.n(S),F=(a("Cz6C"),a("dU8H")),M=a.n(F),L=(a("+hXE"),a("fUV+")),U=a.n(L),j=(a("y+mr"),a("3JdW")),$=a.n(j),A=(a("XDqQ"),a("Axha")),I=a.n(A),R=a("7+uW"),E={render:function(){var t=this.$createElement;return(this._self._c||t)("mt-header",{attrs:{title:this.headerC,fixed:""}})},staticRenderFns:[]},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("mt-tabbar",{attrs:{id:"foots",fixed:""}},t._l(t.footer,function(e,n){return a("mt-tab-item",{key:n},[a("router-link",{attrs:{to:e.path}},[t._v(t._s(e.name))])],1)}))},staticRenderFns:[]},q={name:"app",components:{Heads:a("VU/8")({name:"heads",data:function(){return{headerC:"vue社区"}}},E,!1,function(t){a("2Meb")},null,null).exports,Foots:a("VU/8")({name:"foots",data:function(){return{footer:[{path:"/",name:"首页"},{path:"/message",name:"消息"},{path:"/about",name:"我的"}]}}},N,!1,function(t){a("AOQV")},null,null).exports}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Heads"),this._v(" "),e("div",{attrs:{id:"content"}},[e("transition",{attrs:{name:"trans-router",mode:"out-in"}},[e("keep-alive",[this.$route.meta.keepAlive?e("router-view"):this._e()],1)],1),this._v(" "),e("transition",{attrs:{name:"trans-router",mode:"out-in"}},[this.$route.meta.keepAlive?this._e():e("router-view")],1)],1),this._v(" "),e("Foots")],1)},staticRenderFns:[]},H=a("VU/8")(q,B,!1,function(t){a("q037")},null,null).exports,z=a("/ocq"),P=(a("HBIl"),a("svqn")),G=a.n(P),Q=[0,60,3600,86400,2592e3,94608e4,Number.MAX_VALUE],X=["刚刚","分钟前","小时前","天前","月前","年前"],D={name:"scroll",data:function(){return{mescroll:null,pdlist:[]}},props:["tab","scroll"],mounted:function(){console.log("scroll");this.mescroll=new G.a(this.scroll,{up:{callback:this.upCallback,toTop:{},empty:{warpId:"dataList",icon:"../res/img/mescroll-empty.png",tip:"亲,暂无相关数据哦~",btntext:"去逛逛 >",btnClick:function(){alert("点击了去逛逛按钮")}}}}),document.getElementById("dataList").style.display="block";var t=document.querySelectorAll("img");this.imgLoad(t,function(t){})},methods:{imgLoad:function(t,e){var a=this;t.forEach(function(t){var n=setInterval(function(){t.complete&&(e(t),clearInterval(n))},50);t.onerror=function(){console.log("404失败"),a.onerror=null}})},errImg:function(){console.log("失败")},upCallback:function(t){var e=this;!function(t,a,n,s){e.$ajax.get("/api/v1/topics",{params:{tab:e.tab,page:t,limit:a}}).then(function(t){var e=t.data.data;console.log(t),n&&n(e)}).catch(function(t){t&&console.log(t),s&&s()})}(t.num,t.size,function(a){1===t.num&&(e.pdlist=[]),e.pdlist=e.pdlist.concat(a),e.mescroll.endSuccess(a.length,!0)},function(){e.mescroll.endErr()})},timeFormat:function(t){return t.map(function(t){switch(t.time=n(t.create_at),t.tab){case"share":t.tab="分享";break;case"ask":t.tab="问答";break;case"job":t.tab="招聘"}return t})}},computed:{}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mescroll",attrs:{id:t.scroll}},[a("div",{staticClass:"mescroll-bounce"},[a("ul",{staticClass:"data-list",attrs:{id:"dataList"}},t._l(t.timeFormat(t.pdlist),function(e,n){return a("router-link",{key:n,attrs:{to:{path:"/details",query:{id:e.id}},tag:"li"}},[a("div",{staticClass:"list_top table"},[a("div",{staticClass:"top_img table_cell"},[a("img",{attrs:{src:e.author.avatar_url},on:{error:t.errImg}})]),t._v(" "),a("div",{staticClass:"top_title table_cell"},[a("h2",{staticClass:"two_ell"},[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"top_tab table_cell"},[e.top?a("p",{staticClass:"tab",staticStyle:{background:"#e40e0e"}},[t._v("置顶")]):e.good?a("p",{staticClass:"tab"},[t._v("精华")]):a("p",{staticClass:"tab"},[t._v(t._s(e.tab))])])]),t._v(" "),a("div",{staticClass:"list_btm"},[a("div",{staticClass:"btm_left"},[a("span",[t._v(t._s(e.author.loginname))]),t._v(" "),a("span",{staticStyle:{"font-size":".6rem"}},[t._v("发布于"+t._s(e.time))])]),t._v(" "),a("div",{staticClass:"btm_right"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-pingjia"}})]),t._v(" "),a("span",[t._v(t._s(e.reply_count))]),t._v(" "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-Artboard"}})]),t._v(" "),a("span",[t._v(t._s(e.visit_count))])])])])}))])])},staticRenderFns:[]},Y={name:"index",components:{Scroll:a("VU/8")(D,W,!1,function(t){a("mTne")},null,null).exports},data:function(){return{selected:0,swipeable:!0,navMsg:[{label:"全部",tab:"all"},{label:"精华",tab:"good"},{label:"分享",tab:"share"},{label:"问答",tab:"ask"},{label:"weex",tab:"weex"},{label:"招聘",tab:"job"}]}},mounted:function(){console.log("index")},methods:{}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("mt-navbar",{attrs:{fixed:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.navMsg,function(e,n){return a("mt-tab-item",{key:n,attrs:{id:n}},[t._v(t._s(e.label))])})),t._v(" "),a("mt-tab-container",{attrs:{swipeable:""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.navMsg,function(e,n){return a("mt-tab-container-item",{key:n,attrs:{id:n}},[a("Scroll",{attrs:{tab:t.navMsg[n].tab,scroll:"scroll"+n}})],1)}))],1)},staticRenderFns:[]},K=a("VU/8")(Y,J,!1,function(t){a("ft4m")},null,null).exports,Z=(a("34+y"),a("X+yh")),tt=a.n(Z),et=a("Dd8w"),at=a.n(et),nt=a("NYxO"),st={name:"detail",data:function(){return{sessUser:"",details:"",authorTime:"",content:"",sheetVisible:!0,followFlag:"",actions:[{name:"返回",method:this.toBack},{name:"评论",method:this.toCommit}],idArr:[]}},mounted:function(){var t=this;this.sessUser=sessionStorage.getItem("user"),this.$ajax({method:"get",url:"/api/v1/topic/"+this.$route.query.id}).then(function(e){switch(t.details=e.data.data,t.authorTime=n(t.details.create_at),t.details.tab){case"share":t.details.tab="分享";break;case"ask":t.details.tab="问答";break;case"job":t.details.tab="招聘"}}).catch(function(t){t&&console.log(t)})},computed:at()({},Object(nt.d)(["login","about"]),{isFollow:{get:function(){var t=this;return!!this.about.about.collect_topics&&(this.about.about.collect_topics.map(function(e){-1===t.idArr.indexOf(e.id)&&t.idArr.unshift(e.id),console.log(t.idArr),-1!==t.idArr.indexOf(t.$route.query.id)?t.followFlag=!0:t.followFlag=!1}),this.followFlag)},set:function(t){this.followFlag=t}}}),methods:{change:function(){console.log(this.isFollow);var t="";t=this.isFollow?"de_collect":"collect",this.$ajax({method:"post",url:"/api/v1/topic/"+t,params:{accesstoken:this.login.user.token,topic_id:this.$route.query.id}}).then(function(t){console.log(t)}).catch(function(t){t&&console.log(t)})},toLove:function(){if(!this.sessUser)return this.toLogin(),!1},toReply:function(){if(!this.sessUser)return this.toLogin(),!1;alert(1)},toBack:function(){this.$router.go(-1)},toCommit:function(){var t=this;if(!this.sessUser)return this.toLogin(),!1;b.a.prompt('<textarea placeholder="说点什么"></textarea>',"请输入评论内容",{closeOnClickModal:!1,confirmButtonText:"提交",showInput:!1}).then(function(e){e.value,e.action;t.sheetVisible=!0;var a=document.querySelector("textarea").value;t.$ajax({method:"post",url:"",params:{accesstoken:t.login.user.token,content:a}}).then(function(t){tt()({message:"提交成功",duration:1e3})}).catch(function(t){t&&console.log(t),tt()({message:"提交失败",duration:1e3})})},function(e){t.sheetVisible=!0,console.log(e)})},timeFormat:function(t){return t.map(function(t){return t.time=n(t.create_at),t})},toLogin:function(){this.$router.replace({path:"/login",query:{redirect:this.$route.fullPath}})}}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details"},[t.details?a("div",{attrs:{id:"details"}},[a("h1",{on:{click:function(e){t.sheetVisible=!t.sheetVisible}}},[t._v(t._s(t.details.title))]),t._v(" "),a("div",{staticClass:"table",style:{marginTop:"1rem",width:"100%"}},[a("div",{staticClass:"table_cell",staticStyle:{width:"12%"}},[a("img",{attrs:{src:t.details.author.avatar_url,alt:"author"}})]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"63%",padding:"0 .5rem"}},[a("p",[t._v(t._s(t.details.author.loginname))]),t._v(" "),a("span",[t._v(t._s(t.authorTime))])]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"25%","font-size":".6rem",color:"#5f5f5f","text-align":"right","padding-right":".4rem"}},[a("p",[t._v("来自:"+t._s(t.details.tab))]),t._v(" "),a("span",[t._v(t._s(t.details.visit_count)+"次访问")])])]),t._v(" "),a("div",{staticClass:"det_content",domProps:{innerHTML:t._s(t.details.content)}}),t._v(" "),a("div",{staticClass:"follow"},[a("span",[t._v(t._s(t.isFollow?"哈哈哈，您已关注！":"喜欢这篇文章？那就点击关注吧"))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.sessUser,expression:"!sessUser"}],staticClass:"mask",on:{click:t.toLogin}}),t._v(" "),a("mt-switch",{nativeOn:{change:function(e){t.change(e)}},model:{value:t.isFollow,callback:function(e){t.isFollow=e},expression:"isFollow"}})],1),t._v(" "),t.details.replies.length?a("h2",{staticClass:"commit_count"},[t._v(t._s(t.details.replies.length)+"人评论:")]):a("h2",{staticStyle:{"margin-top":"2rem","text-align":"center"}},[t._v("没有人评论，快来抢沙发...")]),t._v(" "),a("ul",{staticClass:"commit_list"},t._l(t.timeFormat(t.details.replies),function(e,n){return a("li",{key:n},[a("div",{staticClass:"table",style:{marginTop:"1rem",width:"100%"}},[a("div",{staticClass:"table_cell",staticStyle:{width:"12%"}},[a("img",{attrs:{src:e.author.avatar_url,alt:""}})]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"66%","padding-left":".5rem"}},[a("p",[t._v(t._s(e.author.loginname)+" "),a("span",{staticStyle:{color:"#386ac0"}},[t._v("#"+t._s(n+1)+"楼\n              "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.details.author.loginname===e.author.loginname,expression:"details.author.loginname===replies.author.loginname"}]},[t._v("【楼主】")])])]),t._v(" "),a("span",[t._v(t._s(e.time))])]),t._v(" "),a("div",{staticClass:"table_cell",staticStyle:{width:"22%","text-align":"right"}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.toLove}},[a("use",{attrs:{"xlink:href":"#icon-zan"}})]),t._v(" "),a("span",[t._v(t._s(e.ups.length)+"  ")]),t._v(" "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.toReply}},[a("use",{attrs:{"xlink:href":"#icon-huifu"}})])])]),t._v(" "),a("div",{staticClass:"commit_content",domProps:{innerHTML:t._s(e.content)}})])})),t._v(" "),a("mt-actionsheet",{attrs:{actions:t.actions,closeOnClickModal:"",cancelText:""},model:{value:t.sheetVisible,callback:function(e){t.sheetVisible=e},expression:"sheetVisible"}})],1):a("p",[a("mt-spinner",{attrs:{type:"snake"}})],1)])},staticRenderFns:[]},ot=a("VU/8")(st,it,!1,function(t){a("9l8l")},null,null).exports,lt={name:"message",data:function(){return{popupMsg:!1}},methods:{myMsg:function(){this.popupMsg?this.popupMsg=!this.popupMsg:tt()({message:"暂无消息",duration:500})}}},ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message"},[a("mt-cell",{attrs:{title:"未读消息"},nativeOn:{click:function(e){t.myMsg(e)}}},[a("mt-badge",{staticStyle:{"font-size":"14px"},attrs:{color:"#f44336",size:"large"}},[t._v("10")])],1),t._v(" "),a("mt-cell",{attrs:{title:"已读消息"},nativeOn:{click:function(e){t.popupMsg=!t.popupMsg}}},[a("mt-badge",{staticStyle:{"font-size":"14px"},attrs:{color:"#5f5f5f",size:"large"}},[t._v("0")])],1),t._v(" "),a("mt-popup",{attrs:{position:"bottom",modal:""},model:{value:t.popupMsg,callback:function(e){t.popupMsg=e},expression:"popupMsg"}},[a("div",{staticClass:"my_topic",on:{click:function(e){t.popupMsg=!t.popupMsg}}},[a("p",{staticClass:"back"},[a("i",{staticClass:"mintui mintui-back"}),t._v("返回\n      ")])])])],1)},staticRenderFns:[]},rt=a("VU/8")(lt,ct,!1,function(t){a("qHi/")},null,null).exports,ut=a("mvHQ"),pt=a.n(ut),mt={name:"about",data:function(){return{aboutMsg:"",typeTopics:"aboutSite",popupVisible:!1,aboutList:[{icon:"#icon-shoucang",text:"关注的主题",count:0,type:"collect_topics"},{icon:"#icon-canyu",text:"回复的主题",count:0,type:"recent_replies"},{icon:"#icon-fabu",text:"发布的主题",count:0,type:"recent_topics"}],aboutSite:[{name:"技术栈：",text:"vue2 + vue-router + vuex + axios + mint-ui + mescroll"},{name:"名称：",text:"vue社区"},{name:"作者：",text:'<a href="">tjjseven</a>'},{name:"GitHub：",text:'<a href="">https://github.com/tjjseven/vue-comy</a>'},{name:"版本：",text:"v1.0.0"},{name:"参考：",text:"111"}],topicName:"",topicTab:"问答",topicValue:""}},computed:at()({},Object(nt.d)(["login","about"])),methods:at()({},Object(nt.b)(["USER_LOGOUT","sendAjax"]),Object(nt.c)(["ABOUT_INFO"]),{release:function(){switch(this.topicTab){case"分享":this.topicTab="share";break;case"问答":this.topicTab="ask";break;case"招聘job":this.topicTab="job"}this.topicName?this.topicValue?this.$ajax({method:"post",url:"",params:{title:this.topicName,tab:this.topicTab,content:this.topicValue}}).then(function(t){console.log(t),tt()({message:"发布成功",duration:1e3})}).catch(function(t){t&&console.log(t),tt()({message:"网络错误",duration:1e3})}):tt()({message:"内容不能为空",duration:1e3}):tt()({message:"标题不能为空",duration:1e3})},logout:function(){var t=this,e=this;b.a.confirm("确定执行此操作?",{closeOnClickModal:!1}).then(function(a){t.USER_LOGOUT(),e.$router.replace({path:"/login"})},function(t){console.log(t)})},myTopics:function(t){this.popupVisible=!this.popupVisible,this.typeTopics=t},timeFormat:function(t){return t.map(function(t){return t.time=n(t.last_reply_at),t})}}),mounted:function(){var t=this;"{}"===pt()(this.about.about)?this.$ajax({method:"get",url:"/api/v1/user/"+this.login.user.loginname}).then(function(e){t.aboutMsg=e.data.data,t.aboutList[0].count=t.aboutMsg.collect_topics.length,t.aboutList[1].count=t.aboutMsg.recent_replies.length,t.aboutList[2].count=t.aboutMsg.recent_topics.length}):(this.aboutMsg=this.about.about,this.aboutList[0].count=this.about.about.collect_topics.length,this.aboutList[1].count=this.about.about.recent_replies.length,this.aboutList[2].count=this.about.about.recent_topics.length)}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("div",{staticClass:"about_header"},[a("div",{staticClass:"about_bg"}),t._v(" "),a("img",{staticClass:"about_picture",attrs:{src:t.login.user.avatar_url,alt:"author"}}),t._v(" "),a("h2",[t._v(t._s(t.login.user.loginname))]),t._v(" "),a("div",{staticClass:"about_net"},[a("p",{on:{click:function(e){t.myTopics("aboutSite")}}},[t._v("关于")]),t._v(" "),a("p",{on:{click:function(e){t.myTopics("release")}}},[t._v("发布")])])]),t._v(" "),a("div",{staticClass:"about_list"},[t._l(t.aboutList,function(e,n){return a("div",{key:n,staticClass:"table list_div",on:{click:function(a){t.myTopics(e.type)}}},[a("div",{staticClass:"list_left table_cell"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":e.icon}})])]),t._v(" "),a("div",{staticClass:"list_center table_cell"},[t._v(t._s(e.text)+"\n        "),a("span",[t._v("("+t._s(e.count)+")")])]),t._v(" "),a("div",{staticClass:"list_right table_cell"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-you"}})])])])}),t._v(" "),a("p",{staticClass:"logout",on:{click:t.logout}},[t._v("退出")])],2),t._v(" "),a("mt-popup",{attrs:{position:"right",modal:""},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[a("div",{staticClass:"my_topic"},[a("p",{staticClass:"back",on:{click:function(e){t.popupVisible=!t.popupVisible}}},[a("i",{staticClass:"mintui mintui-back"}),t._v("返回\n      ")]),t._v(" "),"aboutSite"===t.typeTopics?a("div",{staticClass:"about_site"},[a("table",{attrs:{border:"0"}},t._l(t.aboutSite,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",{staticStyle:{"word-break":"break-all"},domProps:{innerHTML:t._s(e.text)}})])}))]):"release"===t.typeTopics?a("div",{staticClass:"release"},[a("mt-field",{attrs:{label:"主题名称：",placeholder:"请输入主题名称"},model:{value:t.topicName,callback:function(e){t.topicName=e},expression:"topicName"}}),t._v(" "),a("mt-radio",{attrs:{title:"主题分类：",options:["分享","问答","招聘"]},model:{value:t.topicTab,callback:function(e){t.topicTab=e},expression:"topicTab"}}),t._v(" "),a("mt-field",{attrs:{label:"主题内容：",placeholder:"请输入主题内容",type:"textarea",rows:"7"},model:{value:t.topicValue,callback:function(e){t.topicValue=e},expression:"topicValue"}}),t._v(" "),a("p",{staticClass:"releaseBtn",on:{click:t.release}},[t._v("发布")])],1):a("ul",{staticClass:"topic_list"},[0===t.aboutMsg[t.typeTopics].length?a("p",[t._v("暂无主题...")]):t._l(t.timeFormat(t.aboutMsg[t.typeTopics]),function(e,n){return a("router-link",{key:n,attrs:{to:{path:"/details",query:{id:e.id}},tag:"li"}},[a("div",{staticClass:"two_ell"},[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"topic_author"},[a("span",[t._v("作者:"+t._s(e.author.loginname))]),t._v(" "),a("span",{staticStyle:{float:"right"}},[t._v("最近回复:"+t._s(e.time))])])])})],2)])])],1)},staticRenderFns:[]},ht=a("VU/8")(mt,dt,!1,function(t){a("dcF2")},null,null).exports,ft={name:"login",data:function(){return{tokenFlag:!1,user:{token:"a38f7992-0096-4c65-b3ff-b7db7d264d98"}}},mounted:function(){},methods:at()({},Object(nt.b)(["USER_LOGIN","sendAjax"]),Object(nt.c)(["ABOUT_INFO"]),{sub:function(){var t=this;this.user.token?this.$ajax({method:"post",url:"/api/v1/accesstoken",params:{accesstoken:this.user.token}}).then(function(e){console.log(e);for(var a in e.data)t.$set(t.user,a,e.data[a]);t.USER_LOGIN(t.user),t.$ajax({method:"get",url:"/api/v1/user/"+t.user.loginname}).then(function(e){t.ABOUT_INFO(e.data.data)}),"/login"===t.$route.fullPath&&t.$router.replace({path:"/about"}),t.$router.replace({path:t.$route.query.redirect}),tt()({message:"登录成功",duration:500})}).catch(function(t){t&&(console.log(t),tt()({message:"token错误，登录失败",duration:1e3}))}):tt()({message:"不能为空",duration:500})}})},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("mt-field",{attrs:{label:"Access Token",placeholder:"请输入token"},model:{value:t.user.token,callback:function(e){t.$set(t.user,"token",e)},expression:"user.token"}}),t._v(" "),a("mt-button",{attrs:{type:"primary",size:"large"},on:{click:t.sub}},[t._v("登录")]),t._v(" "),a("div",{staticClass:"mint-field-state is-warning tips"},[a("i",{staticClass:"mintui mintui-field-warning"}),t._v(" "),a("span",{on:{click:function(e){t.tokenFlag=!t.tokenFlag}}},[t._v("如何获取Access Token")])]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.tokenFlag,expression:"tokenFlag"}],staticStyle:{margin:"0 .5rem","line-height":"1rem","font-size":"12px","word-break":"break-all"}},[t._v("\n    登录"),a("a",{staticStyle:{color:"#41b883"},attrs:{href:"https://www.vue-js.com"}},[t._v("vue社区")]),t._v("，在设置页面就可以看到自己的Access Token\n  ")])],1)},staticRenderFns:[]},_t=a("VU/8")(ft,vt,!1,function(t){a("ItON")},null,null).exports;R.default.use(z.a);var bt,gt,kt=new z.a({mode:"history",saveScrollPosition:!0,linkExactActiveClass:"actClass",routes:[{path:"/",name:"index",component:K,meta:{keepAlive:!0,auth:!1},children:[]},{path:"/details",name:"detail",component:ot,meta:{keepAlive:!1,auth:!1}},{path:"/message",name:"message",component:rt,meta:{keepAlive:!1,auth:!0}},{path:"/about",name:"about",component:ht,meta:{keepAlive:!1,auth:!0}},{path:"/login",name:"Login",component:_t},{path:"*",redirect:"/login"}]}),Ct=(a("d8/S"),a("mtWM")),xt=a.n(Ct),yt=function(t,e){t.commit;xt()({method:e.method,url:e.url,params:e.params||{}}).then(function(t){}).catch(function(t){})},wt=a("bOdI"),Tt=a.n(wt),Ot=a("fZjL"),St=a.n(Ot),Vt=a("woOf"),Ft=a.n(Vt),Mt="USER_LOGIN",Lt="USER_LOGOUT",Ut={state:{user:JSON.parse(sessionStorage.getItem("user"))||{}},mutations:(bt={},Tt()(bt,Mt,function(t,e){sessionStorage.setItem("user",pt()(e)),Ft()(t.user,e)}),Tt()(bt,Lt,function(t){sessionStorage.removeItem("user"),St()(t.user).forEach(function(e){return R.default.delete(t.user,e)})}),bt),actions:(gt={},Tt()(gt,Mt,function(t,e){(0,t.commit)(Mt,e)}),Tt()(gt,Lt,function(t){(0,t.commit)(Lt)}),gt)},jt={state:{about:{}},mutations:Tt()({},"ABOUT_INFO",function(t,e){t.about=e})};R.default.use(nt.a);var $t=new nt.a.Store({actions:s,modules:{login:Ut,about:jt}});R.default.component(I.a.name,I.a),R.default.component($.a.name,$.a),R.default.component(U.a.name,U.a),R.default.component(M.a.name,M.a),R.default.component(V.a.name,V.a),R.default.component(O.a.name,O.a),R.default.component(w.a.name,w.a),R.default.component(x.a.name,x.a),R.default.component(k.a.name,k.a),R.default.component(b.a.name,b.a),R.default.component(v.a.name,v.a),R.default.component(h.a.name,h.a),R.default.component(m.a.name,m.a),R.default.component(u.a.name,u.a),R.default.component(c.a.name,c.a),R.default.component(o.a.name,o.a),R.default.prototype.$ajax=xt.a,xt.a.defaults.baseURL="https://www.vue-js.com/",R.default.config.productionTip=!1,new R.default({el:"#app",router:kt,store:$t,template:"<App/>",components:{App:H}}),kt.beforeEach(function(t,e,a){var n=t.meta.auth,s=Boolean($t.state.login.user.token);if(n&&!s&&"/login"!==t.path)return a({path:"/login",query:{redirect:t.fullPath}});a()})},OgVB:function(t,e){},RQR2:function(t,e){},UIRh:function(t,e){},ULTG:function(t,e){},XDqQ:function(t,e){},"d8/S":function(t,e){},dcF2:function(t,e){},f1Vh:function(t,e){},ft4m:function(t,e){},goBr:function(t,e){},jayP:function(t,e){},joTY:function(t,e){},lrMw:function(t,e){},mTne:function(t,e){},"q/am":function(t,e){},q037:function(t,e){},"qHi/":function(t,e){},"y+mr":function(t,e){}},["NHnr"]);